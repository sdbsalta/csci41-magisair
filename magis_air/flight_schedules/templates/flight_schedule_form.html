{% extends "base.html" %}

{% load static %}

{% block styles %}
<style>
    body {
        background-color: var(--tertiary-01);
        position: relative;
    }
    
    .addsched {
        display: flex;
        justify-content: space-between;
        align-items: center;
        text-align: center;
        width: 100%;
        height: 100vh;
    }
    
    .addsched .image-container {
        flex: 0 0 60%; 
        height: 100vh;
        display: flex;
        justify-content: right;
    }
    
    .addsched .image-container img {
        height: 100%;
        width: auto;
        object-fit: cover;
    }
    
    .addsched .addflight {
        flex: 1;
        max-width: 40%;
        text-align: left;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
    
    .addsched .addflight .header {
        color: var(--primary-08);
        margin-bottom: 20px;
    }
    
    .addsched .addflight a {
        text-decoration: none;
    }
    
    .addsched .addflight a:hover {
        text-decoration: underline;
    }
    
    .addsched .addflight button {
        margin-top: 15px;
        margin-bottom: 15px;
        margin-right: 4px;
    }
    
    .addsched .flight-form {
        display: grid;
        grid-template-columns: 1fr 1fr; /* Two columns for form fields */
        gap: 20px;
        align-items: start;
        justify-items: start;
    }
    
    .addsched .flight-form p {
        margin: 10px 0;
    }
    
    .addsched .travel-duration-container {
        margin-bottom: 0;
    }
    
    .addsched .travel-duration {
        display: grid;
        grid-template-columns: 1fr 1fr; /* Hours and minutes in columns */
        gap: 30px;
    }    
</style>
{% endblock %}

{% block title %}Flight Schedule Form{% endblock %}

{% block content %}
<div class="addsched">
    <div class="image-container">
        <img src="{% static 'img/flight_route_add.png' %}" alt="Flight Image">
    </div>
    <div class="addflight">
        <h2 class="header">{% if object %}Update{% else %}Add New{% endif %} Flight Schedule</h2>
        <div class="form-container">
            <form method="post">
                {% csrf_token %}
                <div class="flight-info">
                    {{ form.as_p }} 
                </div>

                <div class="crew-members-container">
                    <fieldset>
                        <legend><strong>Select Crew Members</strong></legend>
                        {% for crew in crew_members %}
                            <label>
                                <input type="checkbox" name="crew_members" value="{{ crew.crew_id }}"
                                    {% if crew in selected_crew_members %}checked{% endif %}>
                                {{ crew.crew_id }} - {{ crew.role }}
                            </label><br>
                        {% endfor %}
                    </fieldset>
                </div>
                <button type="submit" class="button primary filled">Save</button>
                <a href="{% url 'flight_schedules:flight_schedule_list' %}">
                    <button class="button tertiary filled" type="button">Cancel</button> 
                </a>
            </form>
        </div>
    </div>
</div>
{% endblock %}
